<!-- Page generated 2020-11-27 02:54:40 -0600-->
<!DOCTYPE html>
<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex"/><title>Orientation and setup | Sprout Documentation</title>
  <meta name="description" content="Get oriented on some basics of Sprout" />
  <meta name="keywords" content="get started, setup, orientation, quickstart, intro, concepts, containers, sprout">
  <link rel="canonical" href="https://localhost:4000/get-started/" />

  <!-- favicon -->
  <link rel="icon" type="image/png" href="/img/favicon.png" sizes="260x260">
  <link rel="apple-touch-icon" type="image/png" href="/img/favicon.png" sizes="260x260">
  <meta name="msapplication-TileImage" content="/img/favicon.png">
  <meta property="og:image" content="/img/favicon.png"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"><script defer src="/js/theme-switcher.js"></script>
  <script defer src="/js/anchorlinks.js"></script>
  <script defer src="/js/jquery.js"></script>
  <script defer src="/js/bootstrap.min.js"></script>
  <script defer src="/js/docs.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="Orientation and setup"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:domain" content="savantly.net"/>
  <meta name="twitter:image:src" content="/img/favicon.png"/>
  <meta name="twitter:image:alt" content="Sprout Documentation"/>
  <meta property="og:title" content="Orientation and setup" />
  <meta property="og:description" content="Get oriented on some basics of Sprout" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2020-11-27T02:54:40-06:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/img/favicon.png"/>
  <meta property="og:locale" content="en_US" />
  <meta property="og:url" content="https://savantly-net.github.io/sprout-platform//get-started/" />
  <meta property="og:site_name" content="Sprout Documentation" />
  <meta property="article:published_time" itemprop="datePublished" content="2020-11-27T02:54:40-06:00"/>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Orientation and setup","description":"Get oriented on some basics of Sprout","url":"https://savantly-net.github.io/sprout-platform//get-started/"}</script>
  <!-- END SEO STUFF -->
</head><body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/">
                <img class="logo" src="/img/favicon.png" alt="Sprout Docs" title="Sprout Docs" width="30" height="30" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/">
        <img src="/img/favicon.png" alt="Sprout Docs" title="Sprout Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/search/" method="get">
        <label for="st-search-input" class="sr-only">Search</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="Search the docs" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">Search</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div id="tabs">
        <ul class="tabs jsTOCHorizontal"><li><a href="/" id="home">Home</a></li><li><a href="/get-started/guides/" id="guides">Guides</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="Current page's menu toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>
        </div>
    </div>
</nav>
    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>Orientation and setup</h1><p><em class="reading-time">Estimated reading time: 3 minutes</em></p><h1 id="documentation">Documentation</h1>

<ul id="markdown-toc">
  <li><a href="#documentation" id="markdown-toc-documentation">Documentation</a>    <ul>
      <li><a href="#branding" id="markdown-toc-branding">Branding</a>        <ul>
          <li><a href="#resource-locations" id="markdown-toc-resource-locations">Resource Locations</a></li>
        </ul>
      </li>
      <li><a href="#menus" id="markdown-toc-menus">Menus</a>        <ul>
          <li><a href="#configuration" id="markdown-toc-configuration">Configuration</a></li>
        </ul>
      </li>
      <li><a href="#authentication" id="markdown-toc-authentication">Authentication</a>        <ul>
          <li><a href="#basic" id="markdown-toc-basic">Basic</a></li>
          <li><a href="#oauth2" id="markdown-toc-oauth2">OAuth2</a></li>
        </ul>
      </li>
      <li><a href="#authorization" id="markdown-toc-authorization">Authorization</a></li>
    </ul>
  </li>
</ul>

<h2 id="branding">Branding</h2>

<p>There are multiple ways to introduce your own branding.</p>

<ul>
  <li>Override the BrandingApi bean by providing your own implementation.</li>
  <li>Place your images in the expected locations.</li>
  <li>Change the default resource locations for the images.</li>
  <li>Change the default URLs for the images.</li>
</ul>

<h3 id="resource-locations">Resource Locations</h3>
<p>If you have a custom server, you can define the resource locations to provide branded images to the UI.<br />
In this example, the resources are embedded in the server jar.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sprout:
  branding:
    favicon-resource: classpath:/static/images/favicon.png
    logo-resource: classpath:/static/images/logo.png
    mini-logo-resource: classpath:/static/images/favicon-mini.png
</code></pre></div></div>

<h2 id="menus">Menus</h2>

<p>You can add menus through the API, or through configuration/environment parameters.</p>

<h3 id="configuration">Configuration</h3>
<p><code class="language-plaintext highlighter-rouge">name</code> is a unique identifier for the menu.<br />
<code class="language-plaintext highlighter-rouge">display-text</code> is the text displayed in the UI.<br />
<code class="language-plaintext highlighter-rouge">icon</code> is a valid class or font-awesome icon reference.<br />
<code class="language-plaintext highlighter-rouge">url</code> is the location the browser should navigate to.<br />
<code class="language-plaintext highlighter-rouge">children</code> is a nested collection of menus.</p>

<p>Example configuration that provides menus for the UI.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sprout:
  menus:
  - name: operations
    display-text: Operations
    icon: cube
    children:
    - name: reports
      display-text: Reports
      url: https://my-external-site/
    - name: internalLink
      display-text: My internal link
      url: ./path/to/somewhere
</code></pre></div></div>

<h2 id="authentication">Authentication</h2>

<p>There are several supported authentication mechanisms.</p>

<h3 id="basic">Basic</h3>
<p>Basic authentication is provided by default, and an initial admin user is created if youâ€™re using the default server.<br />
You may configure basic auth users to be created at startup using the application properties.<br />
If the user already exists, the configuration is skipped. This allows you to change a password after provisioning, without it being overwritten.</p>

<p>Example configuration -</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sprout:
  security:
    authentication:
      basic:
        enable: true
        users:
        - username: admin
          password: changeme!
          email-address: example@savantly.net
</code></pre></div></div>

<h3 id="oauth2">OAuth2</h3>
<p>You can provide provide the UI with an Implicit OAuth2 flow by configuring the properties.</p>

<p>Example using keycloak -<br />
In this example, a realm called <code class="language-plaintext highlighter-rouge">my-realm</code> and a client called <code class="language-plaintext highlighter-rouge">webapp</code> have been created in keycloak.<br />
Implicit flow has also been enabled for the <code class="language-plaintext highlighter-rouge">webapp</code> client.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sprout:
  security:
    authentication:
      oauth:
        clients:
        - name: keycloak
          display-name: Login with Keycloak Account
          authorization-url: https://my-keycloak:9090/auth/realms/my-realm/protocol/openid-connect/auth
          token-url: https://my-keycloak:9090/auth/realms/my-realm/protocol/openid-connect/token
          user-info-url: https://my-keycloak:9090/auth/realms/my-realm/protocol/openid-connect/userinfo
          jwks-url: https://my-keycloak:9090/auth/realms/my-realm/protocol/openid-connect/certs
          scope: openid profile email
          redirect-url: "http://localhost:8080/"
          clientId: webapp
          flow-type: IMPLICIT
spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          jwk-set-uri: https://my-keycloak:9090/auth/realms/my-realm/protocol/openid-connect/certs
</code></pre></div></div>

<p>OAuth can be further configured by providing your own implementations of certain beans.<br />
Each of these interfaces have default implementations that can be extended, or replaced.</p>

<p><code class="language-plaintext highlighter-rouge">OAuth2UserSynchronizer</code> executes after a successful authentication. It receieves an <code class="language-plaintext highlighter-rouge">OAuth2User</code> and should produce a <code class="language-plaintext highlighter-rouge">SproutUser</code><br />
<code class="language-plaintext highlighter-rouge">OAuthConfigurer</code> configures the Spring <code class="language-plaintext highlighter-rouge">HttpSecurity</code><br />
<code class="language-plaintext highlighter-rouge">OAuthUserMapper</code> maps an <code class="language-plaintext highlighter-rouge">OAuth2User</code> to a <code class="language-plaintext highlighter-rouge">SproutOAuthUser</code><br />
<code class="language-plaintext highlighter-rouge">OAuth2UserService</code> receives an <code class="language-plaintext highlighter-rouge">OAuth2UserRequest</code> and produces an <code class="language-plaintext highlighter-rouge">OAuth2User</code>.<br />
<code class="language-plaintext highlighter-rouge">OidcUserService</code> receives an <code class="language-plaintext highlighter-rouge">OidcUserRequest</code> and produces an <code class="language-plaintext highlighter-rouge">OAuth2User</code>.</p>

<h2 id="authorization">Authorization</h2>

<p>In addition to the <code class="language-plaintext highlighter-rouge">pre/post</code> authorization annotations that Spring provides, you may also configure authorizations using Springâ€™s expression language.<br />
The configuration uses <code class="language-plaintext highlighter-rouge">ant</code> style path matching and http method matching.</p>

<p>This example restritcs GET access to everything under <code class="language-plaintext highlighter-rouge">/reports</code> to users that have an authority of <code class="language-plaintext highlighter-rouge">GENERAL_ADMIN</code> or <code class="language-plaintext highlighter-rouge">GENERAL_READ</code>.<br />
It also has a catch all expression that restricts access to everything under <code class="language-plaintext highlighter-rouge">/api</code> to users that have the role <code class="language-plaintext highlighter-rouge">EVERYONE</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sprout:
  security:
    authorization:
      patterns:
        - path: /reports/**
          expression:
            GET: hasAnyAuthority('GENERAL_ADMIN', 'GENERAL_READ')
        - path: /api/**
          expression:
            GET: hasRole('EVERYONE')
            PUT: hasRole('EVERYONE')
            POST: hasRole('EVERYONE')
            PATCH: hasRole('EVERYONE')
            DELETE: hasRole('EVERYONE')
            TRACE: hasRole('EVERYONE')
</code></pre></div></div>

<p>More sophisticated expressions can be created.<br />
See the <a href="https://docs.spring.io/spring-security/site/docs/3.0.x/reference/el-access.html">Spring Documentation</a> for more information.<br />
Or other tutorials for Spring Expression Language -<br />
https://www.baeldung.com/spring-expression-language</p>

<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/search/?q=get started">get started</a>, <a href="/search/?q=setup">setup</a>, <a href="/search/?q=orientation">orientation</a>, <a href="/search/?q=quickstart">quickstart</a>, <a href="/search/?q=intro">intro</a>, <a href="/search/?q=concepts">concepts</a>, <a href="/search/?q=containers">containers</a>, <a href="/search/?q=sprout">sprout</a></span>
                        </section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav jsTOCHorizontal hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/savantly-net/sprout-platform/edit/master/docs/get-started/index.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit this page</a></li><li><a href="https://github.com/savantly-net/sprout-platform/issues/new?body=File: [get-started/index.md](https://savantly-net.github.io/sprout-platform/docs//get-started/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> Request docs changes</a></li>
                                        <li><div class="toggle-mode">
    <div class="icon">
        <i class="fa fa-sun-o" aria-hidden="true"></i>
    </div>
    <div class="toggle-switch">
        <label class="switch">
            <input type="checkbox" id="switch-style">
            <span class="slider round"></span>
        </label>
    </div>
    <div class="icon">
        <i class="fa fa-moon-o" aria-hidden="true"></i>
    </div>
  </div></li>
                                    </ul>
                                </div><div id="side-toc-title">On this page:</div><ul id="my_toc" class="inline_toc">
  <li><a href="#documentation">Documentation</a>
    <ul>
      <li><a href="#branding">Branding</a>
        <ul>
          <li><a href="#resource-locations">Resource Locations</a></li>
        </ul>
      </li>
      <li><a href="#menus">Menus</a>
        <ul>
          <li><a href="#configuration">Configuration</a></li>
        </ul>
      </li>
      <li><a href="#authentication">Authentication</a>
        <ul>
          <li><a href="#basic">Basic</a></li>
          <li><a href="#oauth2">OAuth2</a></li>
        </ul>
      </li>
      <li><a href="#authorization">Authorization</a></li>
    </ul>
  </li>
</ul></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
        
  <div class="container">
      <div class="top_footer">
          <div class="row">
              <div class="col-xs-12 col-sm-3 col-md-3">
                  <ul class="footer_links">
                      <li><b><a href="https://savantly.net/about/" target="_blank" rel="noopener">Company</a></b></li>
                      <li><a href="https://savantly.net/about/">About Us</a></li>
                      <li><a href="https://savantly.net/contact/">Contact Us</a></li>
                  </ul>
              </div>
          </div>
          <div class="footer-nav">
              <nav class="footer_sub_nav">
                  <ul class="menu">
                      <li><a href="https://github.com/savantly-net/sprout-platform/actions?query=workflow%3ACI">Status</a></li>
                      <li><a href="https://savantly.net/contact/">Contact</a></li>
                  </ul>
              </nav>
          </div>
      </div>
      <div class="bottom_footer">
          <div class="footer-copyright col-xs-12 col-md-8">
              <p class="copyright">
                  Copyright &copy; 2017-2020 Savantly. All rights reserved. </p>
          </div>
          <div class="footer_social_nav">
              <ul class="nav-social">
                  <li class="fa fa-github"><a href="https://github.com/savantly-net/sprout-platform">GitHub</a></li>
                  <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/savantly">Linkedin</a></li>
              </ul>
          </div>
      </div>
  </div>
    </footer>
    <script>const pageURL = "/get-started/";</script>
</body>
</html>