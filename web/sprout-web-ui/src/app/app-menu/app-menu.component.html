<mat-list>
	<mat-list-item>
		<button mat-button (click)="menu.close()">
			<mat-icon>menu</mat-icon>
			<span>Close Menu</span>
		</button>
	</mat-list-item>
	<mat-list-item>
		<button mat-button [routerLink]="['']">
			<mat-icon>home</mat-icon>
			<span>Home</span>
		</button>
	</mat-list-item>
	<mat-divider></mat-divider>
	<mat-list-item *ngFor="let menu of menus | async">
		<sv-menu menuId="{{menu.id}}"></sv-menu>
	</mat-list-item>
	<mat-divider></mat-divider>
	<ng-container *ngIf="appMenus">
		<ng-container *ngTemplateOutlet="menuListTemplate;context:{itemList:appMenus}"></ng-container>
	</ng-container>
</mat-list>

<ng-template #menuItemTemplate let-item="item">
	<div fxLayout="column">
		<button mat-button [routerLink]="item.url">
			<mat-icon>{{item.icon}}</mat-icon>
			<span>{{item.displayText}}</span>
		</button>
		<mat-list style="margin-left:2em;" *ngIf=" item.items && item.items.length > 0" fxLayout="column" fxLayoutGap="1em">
			<ng-container *ngTemplateOutlet="menuListTemplate;context:{itemList:item.items}"></ng-container>
		</mat-list>
	</div>
</ng-template>

<ng-template #menuListTemplate let-itemList="itemList">
	<mat-list-item *ngFor="let item of itemList">
		<ng-container *ngTemplateOutlet="menuItemTemplate;context:{item: item}"></ng-container>
	</mat-list-item>
</ng-template>
